<Window x:Class="ClipboardSync.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ClipboardSync" Height="320" Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        StateChanged="Window_StateChanged"
        Closing="Window_Closing">
    <Grid>
        <!-- å¯åŠ¨ç•Œé¢ -->
        <Grid x:Name="StartPanel" Visibility="Visible">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ClipboardSync" FontSize="32" FontWeight="Bold" 
                           HorizontalAlignment="Center" Margin="0,0,0,20"/>
                <TextBlock Text="è·¨è®¾å¤‡å‰ªè´´æ¿åŒæ­¥" FontSize="14" Foreground="Gray"
                           HorizontalAlignment="Center" Margin="0,0,0,30"/>
                <Button x:Name="StartButton" Content="å¯åŠ¨æœåŠ¡å™¨" FontSize="18" 
                        Padding="30,12" Click="StartButton_Click"/>
                <CheckBox x:Name="AutoStartCheckBox" Content="å¼€æœºè‡ªå¯åŠ¨" Margin="0,20,0,0"
                          HorizontalAlignment="Center" Checked="AutoStartCheckBox_Changed" 
                          Unchecked="AutoStartCheckBox_Changed"/>
            </StackPanel>
        </Grid>
        
        <!-- ä¸»ç•Œé¢ (æœåŠ¡å™¨+å®¢æˆ·ç«¯) -->
        <Grid x:Name="MainPanel" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- æœåŠ¡å™¨é¢æ¿ -->
            <Border Grid.Column="0" BorderBrush="#DDD" BorderThickness="0,0,1,0" Padding="15">
                <StackPanel>
                    <TextBlock Text="æœåŠ¡å™¨" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                    
                    <TextBlock Text="é…å¯¹ç " FontSize="12" Foreground="Gray"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,15">
                        <TextBlock x:Name="ServerPairCodeText" Text="------" FontSize="28" 
                                   FontWeight="Bold" Foreground="#2196F3" VerticalAlignment="Center"/>
                        <Button x:Name="RefreshCodeButton" Content="ðŸ”„" FontSize="14" 
                                Margin="10,0,0,0" Padding="6,3" VerticalAlignment="Center"
                                Click="RefreshCodeButton_Click" ToolTip="åˆ·æ–°é…å¯¹ç "/>
                    </StackPanel>
                    
                    <TextBlock Text="çŠ¶æ€" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="ServerStatusText" Text="è¿è¡Œä¸­" FontSize="14" 
                               Foreground="Green" Margin="0,5,0,15"/>
                    
                    <TextBlock Text="å…¶ä»–è®¾å¤‡" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="ClientCountText" Text="0" FontSize="14" Margin="0,5,0,15"/>
                    
                    <Button x:Name="StopButton" Content="åœæ­¢æœåŠ¡å™¨" Padding="10,5" 
                            Click="StopButton_Click" Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- åˆ†éš”çº¿ -->
            <GridSplitter Grid.Column="1" Width="1" Background="#DDD" 
                          HorizontalAlignment="Center" VerticalAlignment="Stretch"/>
            
            <!-- å®¢æˆ·ç«¯é¢æ¿ -->
            <Border Grid.Column="2" Padding="15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" Text="æœ¬æœºå®¢æˆ·ç«¯" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <!-- è¿žæŽ¥çŠ¶æ€å’Œå‰ªè´´æ¿ç›‘æŽ§æ”¾ä¸€æŽ’ -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="è¿žæŽ¥: " FontSize="12" Foreground="Gray" VerticalAlignment="Center"/>
                        <TextBlock x:Name="ClientStatusText" Text="æ­£åœ¨è¿žæŽ¥..." FontSize="12" 
                                   Foreground="Orange" VerticalAlignment="Center"/>
                        <TextBlock Text="  |  ç›‘æŽ§: " FontSize="12" Foreground="Gray" VerticalAlignment="Center"/>
                        <TextBlock x:Name="MonitorStatusText" Text="æœªå¯åŠ¨" FontSize="12" 
                                   Foreground="Gray" VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <TextBlock Grid.Row="2" Text="æ—¥å¿—" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                    <ListBox Grid.Row="3" x:Name="LogList" FontSize="11"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
